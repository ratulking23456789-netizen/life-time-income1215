<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Online BD ‚Äî Earn from Home</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg: #f6fbff;
    --card: #ffffff;
    --accent: #0ea5ff;
    --accent-2: #7c3aed;
    --muted: #6b7280;
    --success: #10b981;
    --danger: #ef4444;
    --radius: 14px;
    --maxw: 980px;
  }
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,#f0f7ff 0%,var(--bg) 100%);margin:0;color:#0f1724}
  .wrap{max-width:var(--maxw);margin:28px auto;padding:18px}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
  .logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px}
  h1{margin:0;font-size:20px}
  p.lead{margin:2px 0 0;color:var(--muted)}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  @media (max-width:900px){.grid{grid-template-columns:1fr}}
  .card{background:var(--card);border-radius:var(--radius);padding:16px;box-shadow:0 8px 30px rgba(12,18,36,0.06)}
  .hero h2{margin:0 0 8px}
  .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
  .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}
  .btn-ghost{background:transparent;border:1px solid #eef2ff;color:var(--muted)}
  .small{font-size:13px;color:var(--muted)}
  .balance{font-size:28px;font-weight:700;color:var(--success);margin-top:8px}
  .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .deposit-list{max-height:220px;overflow:auto;margin-top:8px}
  .deposit-item{padding:10px;border-radius:10px;border:1px solid #f0f5ff;background:#fbfdff;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
  .muted{color:var(--muted)}
  .nav{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  .nav button{padding:8px 10px;border-radius:8px;border:1px solid transparent;background:#f8fafc;cursor:pointer}
  .nav .active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}
  .form-group{margin-bottom:10px}
  label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
  input,select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef9;background:#fff}
  footer{margin-top:14px;color:var(--muted);font-size:13px;text-align:center}

  /* modal */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,6,6,0.4);z-index:999}
  .modal.show{display:flex}
  .modal-card{width:100%;max-width:520px;background:var(--card);padding:18px;border-radius:12px}
  .row{display:flex;gap:8px;align-items:center}
  .chip{padding:6px 10px;border-radius:999px;background:#f0f9ff;border:1px solid #e6f0ff;font-weight:600}
  .success{color:var(--success);font-weight:700}
  .claim-btn{background:linear-gradient(90deg,#22c55e,#06b6d4);color:#fff;padding:10px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:700;width:100%}
  .danger{color:var(--danger);font-weight:700}
  .center{display:flex;justify-content:center;align-items:center;gap:8px}
  .note{font-size:13px;color:var(--muted);margin-top:8px}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">OBD</div>
      <div>
        <h1>Online BD ‚Äî ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶∏‡ßç‡¶§ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶Ü‡ßü‡ßá‡¶∞ ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ</h1>
        <p class="lead">‡¶ò‡¶∞‡ßá ‡¶¨‡¶∏‡ßá ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∏‡¶π‡¶ú ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶â‡¶™‡¶æ‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî ‡¶∞‡ßá‡¶´‡¶æ‡¶∞, ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®, ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶ì ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶â‡¶™‡¶æ‡¶∞‡ßç‡¶ú‡¶®‡•§</p>
      </div>
    </header>

    <div class="grid">
      <main>
        <section class="card hero" id="welcome-section">
          <h2>‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡ßü ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®</h2>
          <p class="small">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø: ‡¶§‡¶∞‡ßÅ‡¶£ ‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ‡¶ï‡ßá ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ú‡¶ó‡¶§‡ßá ‡¶¶‡¶ï‡ßç‡¶∑ ‡¶ï‡¶∞‡ßá ‡¶§‡ßã‡¶≤‡¶æ ‡¶ì ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶¨‡¶≤‡¶Æ‡ßç‡¶¨‡ßÄ ‡¶ï‡¶∞‡¶æ‡•§</p>

          <div class="nav" id="top-nav">
            <button class="active" data-page="dashboard">‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</button>
            <button data-page="earn">‡¶è‡¶∞‡ßç‡¶®‡¶ø‡¶Ç</button>
            <button data-page="deposit">‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü</button>
            <button data-page="profile">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</button>
          </div>

          <div id="pages" style="margin-top:12px">
            <!-- Dashboard -->
            <div class="page" id="dashboard">
              <div class="grid-2">
                <div class="card">
                  <div class="small">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</div>
                  <div class="balance" id="current-balance">BDT 0.00</div>
                  <div class="note">‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá‡•§</div>
                </div>
                <div class="card">
                  <div class="small">‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶Ü‡¶∞‡ßç‡¶®‡¶ø‡¶Ç</div>
                  <div class="balance" id="total-earn">BDT 0.00</div>
                  <div class="note">‡¶∞‡ßá‡¶´‡¶æ‡¶∞, ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì, ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡ßü ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá‡•§</div>
                </div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3 style="margin:0 0 8px">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú‡¶∏‡¶Æ‡ßÇ‡¶π</h3>
                <div class="grid-2">
                  <div>
                    <div class="muted">üí∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</div>
                    <div class="muted">üé• ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßá ‡¶Ü‡ßü</div>
                    <div class="muted">‚úâÔ∏è ‡¶ú‡¶ø‡¶Æ‡ßá‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç</div>
                  </div>
                  <div>
                    <div class="muted">üí¨ Telegram ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø</div>
                    <div class="muted">üì± WhatsApp ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø</div>
                    <div class="muted">‚å®Ô∏è Typing Job</div>
                  </div>
                </div>
              </div>

              <div class="card" style="margin-top:12px">
                <h3 style="margin:0 0 8px">‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü (‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï)</h3>
                <div class="deposit-list" id="live-deposits">
                  <!-- deposits here -->
                </div>
              </div>
            </div>

            <!-- Earn Page -->
            <div class="page" id="earn" style="display:none">
              <div class="card">
                <h3>‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï</h3>
                <p class="small">‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶Ø‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡ßç‡¶•‡¶æ‡ßü‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá BDT 500 ‡¶™‡¶æ‡¶¨‡ßá‡¶® (‡¶è‡¶ï‡¶¨‡¶æ‡¶∞‡¶ø ‡¶¨‡ßã‡¶®‡¶æ‡¶∏)‡•§</p>
                <div style="margin-top:12px" class="grid-2" id="deposit-cards">
                  <!-- dynamic -->
                </div>
                <div class="note">‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: 100 ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ‡ßá ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá‡•§</div>
              </div>

              <div class="card" style="margin-top:12px">
                <h3>‡¶Ö‡¶ü‡ßã ‡¶ì ‡¶∞‡¶ø‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶°‡ßá‡¶°</h3>
                <p class="small">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã: ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶æ (BDT 0.02 ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì), ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶ï‡¶æ‡¶ú, ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡•§</p>
                <div style="margin-top:8px">
                  <button class="btn btn-primary" id="watch-video">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßá ‡¶Ü‡ßü ‡¶ï‡¶∞‡ßã</button>
                </div>
              </div>
            </div>

            <!-- Deposit page -->
            <div class="page" id="deposit" style="display:none">
              <div class="card">
                <h3>‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                <p class="small">‡¶®‡¶ø‡¶Æ‡ßç‡¶®‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                <div id="deposit-list" style="margin-top:10px"></div>
              </div>
            </div>

            <!-- Profile -->
            <div class="page" id="profile" style="display:none">
              <div class="card">
                <h3>‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</h3>
                <div style="display:flex;gap:12px;align-items:center">
                  <div style="width:64px;height:64px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:800">U</div>
                  <div>
                    <div id="profile-name" style="font-weight:700">Guest</div>
                    <div class="muted" id="profile-username">‚Äî</div>
                  </div>
                </div>
                <div style="margin-top:12px" class="grid-2">
                  <div class="small">Account Balance</div>
                  <div id="pf-balance" style="font-weight:700">BDT 0.00</div>
                  <div class="small">Total Deposited</div>
                  <div id="pf-deposited" style="font-weight:700">BDT 0.00</div>
                </div>
              </div>

              <div class="card" style="margin-top:12px">
                <h4 style="margin:0 0 8px">Claim History</h4>
                <div id="claim-history" class="deposit-list"></div>
              </div>

              <div class="card" style="margin-top:12px">
                <h4 style="margin:0 0 8px">Account Settings</h4>
                <div class="small">Username / Mobile / Change Password</div>
                <div style="margin-top:8px" id="account-actions"></div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <aside>
        <div class="card">
          <div class="small">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßá‡¶ü‡¶æ‡¶∏</div>
          <div style="margin-top:8px" id="auth-area">
            <!-- login/register -->
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="small">‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®</div>
          <div style="margin-top:10px" id="quick-deposits"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="small">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</div>
          <div style="font-weight:700;margin-top:6px">+8801XXXXXXXXX</div>
          <div class="note">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶≤‡ßá bKash/Nagad ‡¶¶‡¶ø‡ßü‡ßá "I Have Paid" ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá Claim ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</div>
        </div>
      </aside>
    </div>

    <footer>¬© {year} Online BD ‚Äî ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø</footer>
  </div>

  <!-- modal -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <div id="modal-content"></div>
      <div style="margin-top:12px" id="modal-actions" class="center"></div>
    </div>
  </div>

<script>
(function(){
  const YEAR = new Date().getFullYear();
  document.body.querySelector('footer').innerHTML = `¬© ${YEAR} Online BD ‚Äî ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø`;

  // --- App data & helpers ---
  const PACKS = [100,200,300,400,500,600,700,800,900,1000];
  const BONUS = 500;
  const BKASH = "+8801630148084";
  const NAGAD = "+880101934148403";
  const STORAGE_KEY = "online_bd_users_v1";
  const SESSION_KEY = "online_bd_session_v1";

  // utility
  function qs(sel, el=document){ return el.querySelector(sel); }
  function qsa(sel, el=document){ return Array.from(el.querySelectorAll(sel)); }
  function fmtBDT(x){ return "BDT " + parseFloat(x||0).toFixed(2); }
  function now(){ return new Date().toISOString(); }

  // --- Render deposit cards ---
  function renderDepositCards(){
    const container = qs('#deposit-cards');
    container.innerHTML = '';
    PACKS.forEach(v=>{
      const div = document.createElement('div');
      div.className = 'card deposit-item';
      div.innerHTML = `<div><strong>Deposit ${v} ‡ß≥</strong><div class="muted">Get ${BONUS} ‡ß≥</div></div>
      <div><button class="btn btn-primary" data-deposit="${v}">Pay</button></div>`;
      container.appendChild(div);
    });
    // event
    qsa('[data-deposit]').forEach(b=>{
      b.addEventListener('click', e=>{
        const amount = parseInt(e.currentTarget.getAttribute('data-deposit'));
        openPayModal(amount);
      });
    });
  }

  // quick deposits on aside
  function renderQuickDeposits(){
    const container = qs('#quick-deposits');
    container.innerHTML = '';
    PACKS.slice(0,5).forEach(v=>{
      const btn = document.createElement('button');
      btn.className = 'btn btn-primary';
      btn.style.marginBottom = '6px';
      btn.style.width = '100%';
      btn.textContent = `${v} ‡ß≥ ‚Äî Get ${BONUS}`;
      btn.onclick = ()=> openPayModal(v);
      container.appendChild(btn);
    });
  }

  // modal
  const modal = qs('#modal');
  function openModal(contentHtml, actionsHtml){
    qs('#modal-content').innerHTML = contentHtml;
    qs('#modal-actions').innerHTML = actionsHtml || '';
    modal.classList.add('show');
  }
  function closeModal(){ modal.classList.remove('show'); }

  // payment modal
  function openPayModal(amount){
    const content = `<h3 style="margin:0 0 8px">Pay ${amount} ‡ß≥ and Get ${BONUS} ‡ß≥</h3>
      <div class="small muted">Send money to one of the following:</div>
      <div style="margin-top:8px">
        <div class="row" style="justify-content:space-between">
          <div><div class="muted">bKash</div><div style="font-weight:700">${BKASH}</div></div>
          <div><div class="muted">Nagad</div><div style="font-weight:700">${NAGAD}</div></div>
        </div>
      </div>
      <div class="note">‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶™‡¶∞ "I Have Paid" ‡¶ö‡¶æ‡¶™‡ßÅ‡¶® ‚Äî ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶≤‡¶ø ‡¶π‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶π‡¶¨‡ßá (‡¶°‡ßá‡¶Æ‡ßã ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®)‡•§</div>`;
    const actions = `<button class="btn" onclick="closeModal()">Cancel</button>
      <button class="claim-btn" id="i-paid">I Have Paid</button>`;
    openModal(content, actions);

    // attach claim handler
    document.getElementById('i-paid').onclick = ()=>{
      // create pending deposit record for logged-in user
      const session = getSession();
      if(!session){ alert('‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); closeModal(); return; }
      const users = loadUsers();
      const user = users[session.user];
      if(!user){ alert('‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶æ‡¶á, ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡ßü ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); closeModal(); return; }
      // create deposit record
      const deposit = { id: 'd_'+Date.now(), amount: amount, bonus: BONUS, paidTo: BKASH, method:'bKash/Nagad', time: now(), status: 'claimed' };
      user.deposits = user.deposits || [];
      user.deposits.unshift(deposit);
      user.balance = (user.balance||0) + BONUS;
      user.totalDeposited = (user.totalDeposited||0) + amount;
      saveUsers(users);
      closeModal();
      alert('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç BDT '+BONUS+' ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá (‡¶°‡ßá‡¶Æ‡ßã)‡•§');
      refreshUI();
    };
  }

  // watch video (demo)
  function watchVideo(){
    const session = getSession();
    if(!session){ alert('‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); return; }
    const users = loadUsers(); const user = users[session.user];
    user.balance = (user.balance||0) + 0.02;
    user.totalEarnings = (user.totalEarnings||0) + 0.02;
    user.activities = user.activities || [];
    user.activities.unshift({type:'video',amount:0.02,time: now()});
    saveUsers(users);
    alert('‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‚Äî ‡¶Ü‡¶™‡¶®‡¶ø BDT 0.02 ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§ (‡¶°‡ßá‡¶Æ‡ßã)');
    refreshUI();
  }

  // --- Storage: users & session ---
  function loadUsers(){ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); }
  function saveUsers(u){ localStorage.setItem(STORAGE_KEY, JSON.stringify(u)); }
  function setSession(username){ localStorage.setItem(SESSION_KEY, username); }
  function clearSession(){ localStorage.removeItem(SESSION_KEY); }
  function getSession(){ return localStorage.getItem(SESSION_KEY); }

  // register & login UI
  function renderAuthArea(){
    const container = qs('#auth-area');
    const sessionUser = getSession();
    if(sessionUser){
      const users = loadUsers();
      const user = users[sessionUser];
      container.innerHTML = `<div class="small">Logged in as</div>
        <div style="font-weight:700">${user.displayName || user.username || user.mobile}</div>
        <div style="margin-top:8px">
          <button class="btn" id="logout-btn">Logout</button>
          <button class="btn btn-primary" id="to-profile">Profile</button>
        </div>`;
      qs('#logout-btn').onclick = ()=>{ if(confirm('Logout?')){ clearSession(); refreshUI(); } };
      qs('#to-profile').onclick = ()=> showPage('profile');
      return;
    }

    container.innerHTML = `<div id="auth-forms">
      <div style="margin-bottom:8px"><button class="btn btn-primary" id="show-login">Login</button> <button class="btn" id="show-register">Register</button></div>
      <div id="form-area"></div>
    </div>`;
    qs('#show-login').onclick = ()=> renderLoginForm();
    qs('#show-register').onclick = ()=> renderRegisterForm();
    renderLoginForm();
  }

  function renderLoginForm(){
    qs('#form-area').innerHTML = `<div class="form-group"><label>Username or Mobile</label><input id="li-identity" placeholder="username ‡¶Ö‡¶•‡¶¨‡¶æ mobile"/></div>
      <div class="form-group"><label>Password</label><input id="li-pass" type="password" placeholder="Password"/></div>
      <div><button class="btn btn-primary" id="do-login">Login</button></div>`;
    qs('#do-login').onclick = doLogin;
  }

  function renderRegisterForm(){
    qs('#form-area').innerHTML = `<div class="form-group"><label>Display Name</label><input id="reg-name" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"/></div>
      <div class="form-group"><label>Username</label><input id="reg-username" placeholder="‡¶è‡¶ï‡¶ü‡¶ø username"/></div>
      <div class="form-group"><label>Mobile</label><input id="reg-mobile" placeholder="01XXXXXXXXX"/></div>
      <div class="form-group"><label>Password</label><input id="reg-pass" type="password" placeholder="Password"/></div>
      <div><button class="btn btn-primary" id="do-register">Create Account</button></div>`;
    qs('#do-register').onclick = doRegister;
  }

  function doRegister(){
    const name = qs('#reg-name').value.trim();
    const username = qs('#reg-username').value.trim();
    const mobile = qs('#reg-mobile').value.trim();
    const pass = qs('#reg-pass').value;
    if(!username || !pass || (!mobile && !name)){ alert('Username, Mobile and Password ‡¶¶‡¶ø‡¶®‡•§'); return; }
    const users = loadUsers();
    if(users[username]){ alert('‡¶è‡¶á username ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶Ü‡¶õ‡ßá ‚Äî ‡¶Ö‡¶®‡ßç‡¶Ø‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); return; }
    // create user
    users[username] = { username: username, mobile: mobile, password: pass, displayName: name||username, balance:0, totalEarnings:0, totalDeposited:0, deposits:[], activities:[] };
    saveUsers(users);
    setSession(username);
    alert('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§');
    refreshUI();
  }

  function doLogin(){
    const id = qs('#li-identity').value.trim();
    const pass = qs('#li-pass').value;
    const users = loadUsers();
    // try by username
    if(users[id] && users[id].password === pass){
      setSession(id); alert('Welcome back, '+(users[id].displayName||id)); refreshUI(); return;
    }
    // try find by mobile
    const found = Object.keys(users).find(k=> users[k].mobile === id && users[k].password === pass);
    if(found){ setSession(found); alert('Welcome back, '+(users[found].displayName||found)); refreshUI(); return; }
    alert('Invalid credentials or user not found.');
  }

  // render deposit list on deposit page
  function renderDepositList(){
    const cont = qs('#deposit-list');
    cont.innerHTML = '';
    PACKS.forEach(v=>{
      const el = document.createElement('div');
      el.className = 'deposit-item';
      el.innerHTML = `<div><strong>${v} ‡ß≥</strong><div class="muted">‡¶™‡ßá ‡¶ï‡¶∞‡ßá Claim ‡¶ï‡¶∞‡ßá BDT ${BONUS} ‡¶®‡¶ø‡¶®</div></div>
      <div><button class="btn btn-primary" data-deposit="${v}">Pay</button></div>`;
      cont.appendChild(el);
    });
    qsa('[data-deposit]').forEach(b=>{
      b.addEventListener('click', e=> openPayModal(parseInt(e.currentTarget.getAttribute('data-deposit'))));
    });
  }

  // refresh UI
  function refreshUI(){
    renderAuthArea();
    renderDepositCards();
    renderQuickDeposits();
    renderDepositList();
    renderPages();
    // update user stats
    const sessionUser = getSession();
    const live = qs('#live-deposits');
    const claimHistory = qs('#claim-history');
    live.innerHTML = '';
    claimHistory.innerHTML = '';
    let totalEarn=0;
    if(sessionUser){
      const users = loadUsers(); const user = users[sessionUser];
      qs('#current-balance').textContent = fmtBDT(user.balance||0);
      qs('#total-earn').textContent = fmtBDT(user.totalEarnings||0);
      qs('#profile-name').textContent = user.displayName || user.username;
      qs('#profile-username').textContent = user.mobile || ('@'+user.username);
      qs('#pf-balance').textContent = fmtBDT(user.balance||0);
      qs('#pf-deposited').textContent = fmtBDT(user.totalDeposited||0);
      totalEarn = user.totalEarnings||0;
      (user.deposits||[]).slice(0,10).forEach(d=>{
        const el = document.createElement('div'); el.className='deposit-item';
        el.innerHTML = `<div><div style="font-weight:700">${d.amount} ‡ß≥ ‚Üí +${d.bonus} ‡ß≥</div><div class="muted">${d.time}</div></div><div><div class="small">${d.status}</div></div>`;
        live.appendChild(el);
      });
      (user.deposits||[]).forEach(d=>{
        const el = document.createElement('div'); el.className='deposit-item';
        el.innerHTML = `<div><div style="font-weight:700">${d.amount} ‡ß≥ ‚Üí +${d.bonus} ‡ß≥</div><div class="muted">${d.time}</div></div><div><div class="small">${d.status}</div></div>`;
        claimHistory.appendChild(el);
      });
    } else {
      qs('#current-balance').textContent = fmtBDT(0);
      qs('#total-earn').textContent = fmtBDT(0);
      qs('#profile-name').textContent = 'Guest';
      qs('#profile-username').textContent = '‚Äî';
      qs('#pf-balance').textContent = fmtBDT(0);
      qs('#pf-deposited').textContent = fmtBDT(0);
      // show some demo live deposits
      const demo = [{amount:100,bonus:500,time:now(),status:'claimed'},{amount:200,bonus:500,time:now(),status:'claimed'}];
      demo.forEach(d=>{ const el=document.createElement('div'); el.className='deposit-item'; el.innerHTML=`<div><div style="font-weight:700">${d.amount} ‡ß≥ ‚Üí +${d.bonus} ‡ß≥</div><div class="muted">${d.time}</div></div><div><div class="small">${d.status}</div></div>`; live.appendChild(el); });
    }
  }

  function renderPages(){
    const pages = qsa('.page');
    pages.forEach(p=> p.style.display = 'none');
    const active = qs('.nav .active');
    const page = active ? active.getAttribute('data-page') : 'dashboard';
    qs('#'+page).style.display = 'block';
  }

  // nav handlers
  qsa('.nav button').forEach(b=>{
    b.addEventListener('click', e=>{
      qsa('.nav button').forEach(x=>x.classList.remove('active'));
      e.currentTarget.classList.add('active');
      renderPages();
    });
  });

  // top nav bottom aside actions
  // quick: watch video
  qs('#watch-video').addEventListener('click', ()=> watchVideo());

  // initial render
  renderDepositCards();
  renderQuickDeposits();
  renderDepositList();
  renderAuthArea();
  refreshUI();

  // expose close modal to window for inline buttons
  window.closeModal = closeModal;
})();
</script>
</body>
</html>
